!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();let e;async function t(e){return new Promise((function(t,n){fetch("/"+e+".js").then((e=>{if(e.ok)return e.text()})).then((e=>{var n=document.createElement("script");n.innerHTML=e,n.async=!1,n.setAttribute("type","text/javascript"),document.head.appendChild(n),t(n)}))}))}const n=["ws","btr2initBtrJs","btr2refrshlvlJs","btr2BtrMsg","btr2NetMsg","btr2IPmsg"];async function o(){return new Promise(((e,o)=>{let s=t(n[0]).then((()=>(console.log(s),websocket.onopen=e=>{console.log("WS opened"),console.log(e),websocket.send("batteryStatus"),websocket.send("netscan"),websocket.send("ip")},websocket.onclose=e=>{console.log("WS closed"),console.log(e),setTimeout(initWebSocket,2e3)},websocket))).then((t=>e(t)))}))}if("/"==window.location.pathname){console.log(window.location.pathname),document.querySelector("#card").innerHTML='\n    <div id="batteryArray" class="batteryArray"></div>\n        <div class="ntcsStats"></div>\n        <div class="batteryStats"></div> \n    ',document.querySelector("#footer").innerHTML='\n    <p>Network name : <span id="netName">%SSID%</span></p>\n    <p>softAP IP : <span id="softIP">%LOCALIP%</span></p>\n    <p>public IP : <span id="pubIP">%PUBLICIP%</span></p>\n    ';let s=t(n[1]).then((e=>{console.log(s);let t=initBatteryArray(4);console.log(t)})).then((e=>{t(n[2])})).then((e=>{t(n[3])})).then((e=>{t(n[5])}));o().then((t=>{console.log(t),t.onmessage=e=>{switch(console.log("WS message"),e.data.slice(0,3)){case"BAT":onBTRMessage(e);break;case"IP-":onIPMessage(e)}},clearInterval(e),e=setInterval((()=>{t.send("batteryStatus")}),1300)}))}else if("/netscan"==window.location.pathname)o().then((e=>{console.log(e),e.onmessage=e=>{switch(console.log("WS message"),console.log(e.data.slice(0,3)),e.data.slice(0,3)){case"SCN":onNetMessage(e);break;case"IP-":onIPMessage(e)}}})).then((()=>{let e=t(n[4]);console.log(e)})).then((()=>{let e=t(n[5]);console.log(e)})),document.querySelector("#card").innerHTML='\n    <p><button id="button" class="button">Scan</button></p>\n    <h2>Scaned Stations</h2>\n    <div id="scanStations" class="scanStations"></div>\n    <h4>Connect to network:</h4>\n    <div class="credentials">\n    <input id="ssidInput" type=\'text\' placeholder=\'network\' name=\'n\'/>\n    <hr /><input id="ssidPassword" type=\'password\' placeholder=\'password\' name=\'p\'/>\n    <hr /><button class="button" id="credits" disabled="disabled">Connect</button>\n    </div>\n    ';else if("/update"==window.location.pathname){o().then((e=>{console.log(e),e.onmessage=e=>{if(console.log("WS message"),console.log(e.data),"IP-"===e.data.slice(0,3))onIPMessage(e)}}));let e=t(n[5]);console.log(e),document.querySelector("#card").innerHTML='\n    <form method="POST" action="/update" enctype="multipart/form-data">\n    <input class="button" type="file" name="update">\n    <input class="button" type="submit" value="Update"></form>'}else if("/settings"==window.location.pathname){o().then((e=>{console.log(e),e.onmessage=e=>{if(console.log("WS message"),console.log(e.data),"IP-"===e.data.slice(0,3))onIPMessage(e)}}));let e=t(n[5]);console.log(e)}else console.log(window.location.pathname),document.querySelector("#card").innerHTML='<div title="404">404</div>';
